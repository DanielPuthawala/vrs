$schema: http://json-schema.org/draft/2020-12/schema
title: GA4GH-VRS-Definitions-Merged-Imports
type: object
$defs:
  Variation:
    description: A representation of the state of one or more biomolecules.
    oneOf:
    - $ref: '#/$defs/Allele'
    - $ref: '#/$defs/CopyNumberChange'
    - $ref: '#/$defs/CopyNumberCount'
    - $ref: '#/$defs/Genotype'
    - $ref: '#/$defs/Haplotype'
    discriminator:
      propertyName: type
  MolecularVariation:
    description: A variation on a contiguous molecule.
    oneOf:
    - $ref: '#/$defs/Allele'
    - $ref: '#/$defs/Haplotype'
    discriminator:
      propertyName: type
  SystemicVariation:
    description: A Variation of multiple molecules in the context of a system, e.g.
      a genome, sample, or homologous chromosomes.
    oneOf:
    - $ref: '#/$defs/CopyNumberChange'
    - $ref: '#/$defs/CopyNumberCount'
    - $ref: '#/$defs/Genotype'
    discriminator:
      propertyName: type
  Allele:
    ga4gh_prefix: VA
    description: The state of a molecule at a Location.
    type: object
    properties:
      id:
        type: string
        description: The 'logical' identifier of the entity in the system of record,
          e.g. a UUID. This 'id' is  unique within a given system. The identified
          entity may have a different 'id' in a different  system, or may refer to
          an 'id' for the shared concept in another system (e.g. a CURIE).
      label:
        type: string
      extensions:
        type: array
        ordered: true
        items:
          $ref: '#/$defs/Extension'
      type:
        type: string
        const: Allele
        default: Allele
        description: MUST be "Allele"
      location:
        oneOf:
        - $ref: '#/$defs/SequenceLocation'
        - $ref: '#/$defs/URI'
        description: Where Allele is located
      state:
        description: An expression of the sequence state
        oneOf:
        - $ref: '#/$defs/ComposedSequenceExpression'
        - $ref: '#/$defs/DerivedSequenceExpression'
        - $ref: '#/$defs/LiteralSequenceExpression'
        - $ref: '#/$defs/RepeatedSequenceExpression'
    required:
    - location
    - state
    additionalProperties: false
  Haplotype:
    ga4gh_prefix: HT
    description: A set of non-overlapping Allele members that co-occur on the same
      molecule.
    type: object
    properties:
      id:
        type: string
        description: The 'logical' identifier of the entity in the system of record,
          e.g. a UUID. This 'id' is  unique within a given system. The identified
          entity may have a different 'id' in a different  system, or may refer to
          an 'id' for the shared concept in another system (e.g. a CURIE).
      label:
        type: string
      extensions:
        type: array
        ordered: true
        items:
          $ref: '#/$defs/Extension'
      type:
        type: string
        const: Haplotype
        default: Haplotype
        description: MUST be "Haplotype"
      members:
        type: array
        ordered: false
        minItems: 2
        uniqueItems: true
        items:
          oneOf:
          - $ref: '#/$defs/Allele'
          - $ref: '#/$defs/URI'
        description: List of Alleles, or references to Alleles, that comprise this
          Haplotype.
    required:
    - members
    additionalProperties: false
  CopyNumberCount:
    ga4gh_prefix: CN
    type: object
    description: The absolute count of discrete copies of a Location or Gene, within
      a system (e.g. genome, cell, etc.).
    properties:
      id:
        type: string
        description: The 'logical' identifier of the entity in the system of record,
          e.g. a UUID. This 'id' is  unique within a given system. The identified
          entity may have a different 'id' in a different  system, or may refer to
          an 'id' for the shared concept in another system (e.g. a CURIE).
      label:
        type: string
      extensions:
        type: array
        ordered: true
        items:
          $ref: '#/$defs/Extension'
      subject:
        oneOf:
        - $ref: '#/$defs/SequenceLocation'
        - $ref: '#/$defs/URI'
        description: A location for which the number of systemic copies is described.
      type:
        type: string
        const: CopyNumberCount
        default: CopyNumberCount
        description: MUST be "CopyNumberCount"
      copies:
        oneOf:
        - $ref: '#/$defs/Range'
        - type: integer
        description: The integral number of copies of the subject in a system
    required:
    - copies
    - subject
    additionalProperties: false
  CopyNumberChange:
    ga4gh_prefix: CX
    type: object
    description: An assessment of the copy number of a Location or a Gene within a
      system (e.g. genome, cell, etc.) relative to a baseline ploidy.
    properties:
      id:
        type: string
        description: The 'logical' identifier of the entity in the system of record,
          e.g. a UUID. This 'id' is  unique within a given system. The identified
          entity may have a different 'id' in a different  system, or may refer to
          an 'id' for the shared concept in another system (e.g. a CURIE).
      label:
        type: string
      extensions:
        type: array
        ordered: true
        items:
          $ref: '#/$defs/Extension'
      subject:
        oneOf:
        - $ref: '#/$defs/SequenceLocation'
        - $ref: '#/$defs/URI'
        description: A location for which the number of systemic copies is described.
      type:
        type: string
        const: CopyNumberChange
        default: CopyNumberChange
        description: MUST be "CopyNumberChange"
      copy_change:
        type: string
        enum:
        - efo:0030069
        - efo:0020073
        - efo:0030068
        - efo:0030067
        - efo:0030064
        - efo:0030070
        - efo:0030071
        - efo:0030072
        description: MUST be one of "efo:0030069" (complete genomic loss), "efo:0020073"
          (high-level loss), "efo:0030068" (low-level loss), "efo:0030067" (loss),
          "efo:0030064" (regional base ploidy), "efo:0030070" (gain), "efo:0030071"
          (low-level gain), "efo:0030072" (high-level gain).
    required:
    - copy_change
    - subject
    additionalProperties: false
  Genotype:
    ga4gh_prefix: GT
    description: A quantified set of _in-trans_ MolecularVariation at a genomic locus.
    type: object
    properties:
      id:
        type: string
        description: The 'logical' identifier of the entity in the system of record,
          e.g. a UUID. This 'id' is  unique within a given system. The identified
          entity may have a different 'id' in a different  system, or may refer to
          an 'id' for the shared concept in another system (e.g. a CURIE).
      label:
        type: string
      extensions:
        type: array
        ordered: true
        items:
          $ref: '#/$defs/Extension'
      type:
        type: string
        const: Genotype
        default: Genotype
        description: MUST be "Genotype"
      members:
        type: array
        ordered: false
        uniqueItems: true
        minItems: 1
        items:
          $ref: '#/$defs/GenotypeMember'
        description: Each GenotypeMember in `members` describes a MolecularVariation
          and the count of that variation at the locus.
      count:
        oneOf:
        - $ref: '#/$defs/Range'
        - type: integer
        description: The total number of copies of all MolecularVariation at this
          locus, MUST be greater than or equal to the sum of GenotypeMember copy counts.
          If greater than the total counts, this implies additional MolecularVariation
          that are expected to exist but are not explicitly indicated.
    required:
    - count
    - members
    additionalProperties: false
  Location:
    description: A contiguous segment of a biological sequence.
    oneOf:
    - $ref: '#/$defs/SequenceLocation'
    discriminator:
      propertyName: type
  SequenceLocation:
    ga4gh_prefix: SL
    description: A Location defined by an interval on a referenced Sequence.
    type: object
    properties:
      id:
        type: string
        description: The 'logical' identifier of the entity in the system of record,
          e.g. a UUID. This 'id' is  unique within a given system. The identified
          entity may have a different 'id' in a different  system, or may refer to
          an 'id' for the shared concept in another system (e.g. a CURIE).
      label:
        type: string
      extensions:
        type: array
        ordered: true
        items:
          $ref: '#/$defs/Extension'
      type:
        type: string
        const: SequenceLocation
        default: SequenceLocation
        description: MUST be "SequenceLocation"
      sequence_id:
        description: A VRS Computed Identifier for the reference Sequence.
        $ref: '#/$defs/URI'
      start:
        oneOf:
        - $ref: '#/$defs/Range'
        - type: integer
        description: The start coordinate or range of the SequenceLocation. The minimum
          value of this coordinate or range is 0. MUST represent a coordinate or range
          less than the value of `end`.
      end:
        oneOf:
        - $ref: '#/$defs/Range'
        - type: integer
        description: The end coordinate or range of the SequenceLocation. The minimum
          value of this coordinate or range is 0. MUST represent a coordinate or range
          greater than the value of `start`.
    required:
    - end
    - sequence_id
    - start
    additionalProperties: false
  SequenceExpression:
    description: An expression describing a Sequence.
    oneOf:
    - $ref: '#/$defs/ComposedSequenceExpression'
    - $ref: '#/$defs/DerivedSequenceExpression'
    - $ref: '#/$defs/LiteralSequenceExpression'
    - $ref: '#/$defs/RepeatedSequenceExpression'
    discriminator:
      propertyName: type
  LiteralSequenceExpression:
    description: An explicit expression of a Sequence.
    type: object
    properties:
      type:
        type: string
        const: LiteralSequenceExpression
        default: LiteralSequenceExpression
        description: MUST be "LiteralSequenceExpression"
      sequence:
        $ref: '#/$defs/Sequence'
        description: the literal Sequence expressed
    required:
    - sequence
    - type
    additionalProperties: false
  DerivedSequenceExpression:
    description: An approximate expression of a sequence that is derived from a referenced
      sequence location. Use of this class indicates that the derived sequence is
      *approximately equivalent* to the reference indicated, and is typically used
      for describing large regions in contexts where the use of an approximate sequence
      is inconsequential.
    type: object
    properties:
      type:
        type: string
        const: DerivedSequenceExpression
        default: DerivedSequenceExpression
        description: MUST be "DerivedSequenceExpression"
      location:
        $ref: '#/$defs/SequenceLocation'
        description: The location from which the approximate sequence is derived
      reverse_complement:
        type: boolean
        description: A flag indicating if the expressed sequence is the reverse complement
          of the sequence referred to by `location`
    required:
    - location
    - reverse_complement
    - type
    additionalProperties: false
  RepeatedSequenceExpression:
    description: An expression of a sequence comprised of a tandem repeating subsequence.
    type: object
    properties:
      type:
        type: string
        const: RepeatedSequenceExpression
        default: RepeatedSequenceExpression
        description: MUST be "RepeatedSequenceExpression"
      seq_expr:
        oneOf:
        - $ref: '#/$defs/DerivedSequenceExpression'
        - $ref: '#/$defs/LiteralSequenceExpression'
        description: An expression of the repeating subsequence
      count:
        oneOf:
        - $ref: '#/$defs/DefiniteRange'
        - $ref: '#/$defs/IndefiniteRange'
        - $ref: '#/$defs/Number'
        description: The count of repeated units, as an integer or inclusive range
    allOf:
    - if:
        properties:
          count:
            $ref: '#/$defs/Number'
      then:
        properties:
          count:
            properties:
              value:
                minimum: 0
    - if:
        properties:
          count:
            $ref: '#/$defs/IndefiniteRange'
      then:
        properties:
          count:
            properties:
              value:
                minimum: 0
    - if:
        properties:
          count:
            $ref: '#/$defs/DefiniteRange'
      then:
        properties:
          count:
            properties:
              min:
                minimum: 0
              max:
                minimum: 0
    required:
    - count
    - seq_expr
    - type
    additionalProperties: false
  ComposedSequenceExpression:
    description: An expression of a sequence composed from multiple other Sequence
      Expressions objects. MUST have at least one component that is not a ref:`LiteralSequenceExpression`.
      CANNOT be composed from nested composed sequence expressions.
    additionalProperties: false
    type: object
    properties:
      type:
        type: string
        const: ComposedSequenceExpression
        default: ComposedSequenceExpression
        description: MUST be "ComposedSequenceExpression"
      components:
        type: array
        ordered: true
        uniqueItems: true
        minItems: 2
        items:
          anyOf:
          - $ref: '#/$defs/LiteralSequenceExpression'
          - $ref: '#/$defs/RepeatedSequenceExpression'
          - $ref: '#/$defs/DerivedSequenceExpression'
        description: An ordered list of SequenceExpression components comprising the
          expression. MUST NOT have two adjacent LiteralSequenceExpression objects.
    required:
    - components
  GenotypeMember:
    description: A class for expressing the count of a specific MolecularVariation
      present _in-trans_ at a genomic locus represented by a Genotype.
    type: object
    properties:
      type:
        type: string
        const: GenotypeMember
        default: GenotypeMember
        description: MUST be "GenotypeMember".
      count:
        oneOf:
        - $ref: '#/$defs/DefiniteRange'
        - $ref: '#/$defs/IndefiniteRange'
        - $ref: '#/$defs/Number'
        description: The number of copies of the `variation` at a Genotype locus.
      variation:
        oneOf:
        - $ref: '#/$defs/Allele'
        - $ref: '#/$defs/Haplotype'
        description: A MolecularVariation at a Genotype locus.
    required:
    - count
    - variation
    additionalProperties: false
  Range:
    description: An inclusive range of values bounded by one or more integers.
    type: array
    ordered: true
    items:
      oneOf:
      - type: integer
      - type: 'null'
  HumanCytoband:
    description: A character string representing cytobands derived from the *International
      System for Human Cytogenomic Nomenclature* (ISCN) [guidelines](http://doi.org/10.1159/isbn.978-3-318-06861-0).
    type: string
    pattern: ^cen|[pq](ter|([1-9][0-9]*(\.[1-9][0-9]*)?))$
    example: q22.3
  Residue:
    description: A character representing a specific residue (i.e., molecular species)
      or groupings of these ("ambiguity codes"), using [one-letter IUPAC abbreviations](https://en.wikipedia.org/wiki/International_Union_of_Pure_and_Applied_Chemistry#Amino_acid_and_nucleotide_base_codes)
      for nucleic acids and amino acids.
    type: string
    pattern: '[A-Z*\-]'
  Sequence:
    description: "A character string of Residues that represents a biological sequence\
      \ using the conventional sequence order (5\u2019-to-3\u2019 for nucleic acid\
      \ sequences, and amino-to-carboxyl for amino acid sequences). IUPAC ambiguity\
      \ codes are permitted in Sequences."
    type: string
    pattern: ^[A-Z*\-]*$
  Mapping:
    type: object
    description: A mapping to a concept in a terminology system.
    properties:
      id:
        type: string
        description: The 'logical' identifier of the entity in the system of record,
          e.g. a UUID. This 'id' is  unique within a given system. The identified
          entity may have a different 'id' in a different  system, or may refer to
          an 'id' for the shared concept in another system (e.g. a CURIE).
      label:
        type: string
      extensions:
        type: array
        ordered: true
        items:
          $ref: '#/$defs/Extension'
      system:
        type: string
        description: Identity of the terminology system.
      version:
        type: string
        description: Version of the terminology system.
      code:
        $ref: '#/$defs/Code'
        description: Symbol in syntax defined by the terminology system.
      mapping:
        description: A mapping between concepts as defined by the Simple Knowledge
          Organization System (SKOS).
        type: string
        enum:
        - closeMatch
        - exactMatch
        - broadMatch
        - narrowMatch
        - relatedMatch
    required:
    - code
    - mapping
    - system
    additionalProperties: false
  Extension:
    type: object
    description: The Extension class provides VODs with a means to extend descriptions
      with other attributes unique to a content provider. These extensions are not
      expected to be natively understood under VRSATILE, but may be used for pre-negotiated
      exchange of message attributes when needed.
    properties:
      type:
        type: string
        const: Extension
        description: MUST be "Extension".
      name:
        type: string
        description: A name for the Extension
      value:
        type:
        - number
        - string
        - boolean
        - object
        - array
        - 'null'
        description: Any primitive or structured object
    required:
    - name
    additionalProperties: false
  Code:
    description: Indicates that the value is taken from a set of controlled strings
      defined elsewhere. Technically, a code is restricted to a string which has at
      least one character and no leading or  trailing whitespace, and where there
      is no whitespace other than single spaces in the contents.
    type: string
    pattern: \S+( \S+)*
    example: ENSG00000139618
  URI:
    description: A URI Reference (either a URI or a relative-reference), according
      to RFC3986, section 4.1.
    type: string
    format: uri-reference
